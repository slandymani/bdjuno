############### ACTIONS ###############
actions:

##### Gov #####
- name: action_vote_proposals
  definition:
    kind: synchronous
    handler: "{{ACTION_BASE_URL}}/vote_proposals"
    output_type: ActionGovModules
    arguments:
    type: query
    headers:
      - value: application/json
        name: Content-Type
  permissions:
    - role: anonymous

- name: action_voting_result
  definition:
    kind: synchronous
    handler: "{{ACTION_BASE_URL}}/voting_result"
    output_type: ActionVotingResult
    arguments:
      - name: id
        type: Int!
    type: query
    headers:
      - value: application/json
        name: Content-Type
    permissions:
    - role: anonymous

- name: action_proposals_statistics
  definition:
    kind: synchronous
    handler: "{{ACTION_BASE_URL}}/proposals_statistics"
    output_type: "[ActionProposalStatus]"
    arguments:
    type: query
    headers:
      - value: application/json
        name: Content-Type
    permissions:
      - role: anonymous
##### Telemetry #####
- name: action_top_accounts
  definition:
    kind: synchronous
    handler: "{{ACTION_BASE_URL}}/top_accounts"
    output_type: ActionTopAccounts
    arguments:
      - name: offset
        type: Int
      - name: limit
        type: Int
      - name: sorting_by
        type: String
    type: query
    headers:
      - value: application/json
        name: Content-Type
    permissions:
      - role: anonymous
##### Bank #####
- name: action_account_balance
  definition:
    kind: synchronous
    handler: "{{ACTION_BASE_URL}}/account_balance"
    output_type: ActionBalance
    arguments:
    - name: address
      type: String!
    - name: height
      type: Int
    type: query
    headers:
    - value: application/json
      name: Content-Type
  permissions:
  - role: anonymous

##### Staking / Delegatagor #####
- name: action_delegation_reward
  definition:
    kind: synchronous
    handler: "{{ACTION_BASE_URL}}/delegation_reward"
    output_type: "[ActionDelegationReward]"
    arguments:
    - name: address
      type: String!
    - name: height
      type: Int
    type: query
    headers:
    - value: application/json
      name: Content-Type
  permissions:
  - role: anonymous

- name: action_delegator_withdraw_address
  definition:
    kind: synchronous
    handler: "{{ACTION_BASE_URL}}/delegator_withdraw_address"
    output_type: ActionAddress
    arguments:
    - name: address
      type: String!
    type: query
    headers:
    - value: application/json
      name: Content-Type
  permissions:
  - role: anonymous

- name: action_delegation
  definition:
    kind: synchronous
    handler: "{{ACTION_BASE_URL}}/delegation"
    output_type: ActionDelegationResponse
    arguments:
    - name: address
      type: String!
    - name: height
      type: Int
    - name: offset
      type: Int
    - name: limit
      type: Int
    - name: count_total
      type: Boolean!
    type: query
    headers:
    - value: application/json
      name: Content-Type
  permissions:
  - role: anonymous

- name: action_delegation_total
  definition:
    kind: synchronous
    handler: "{{ACTION_BASE_URL}}/delegation_total"
    output_type: ActionBalance
    arguments:
    - name: address
      type: String!
    - name: height
      type: Int
    type: query
    headers:
    - value: application/json
      name: Content-Type
  permissions:
  - role: anonymous

- name: action_redelegation
  definition:
    kind: synchronous
    handler: "{{ACTION_BASE_URL}}/redelegation"
    output_type: ActionRedelegationResponse
    arguments:
    - name: address
      type: String!
    - name: height
      type: Int
    - name: offset
      type: Int
    - name: limit
      type: Int
    - name: count_total
      type: Boolean!
    type: query
    headers:
    - value: application/json
      name: Content-Type
  permissions:
  - role: anonymous

- name: action_unbonding_delegation
  definition:
    kind: synchronous
    handler: "{{ACTION_BASE_URL}}/unbonding_delegation"
    output_type: ActionUnbondingDelegationResponse
    arguments:
    - name: address
      type: String!
    - name: height
      type: Int
    - name: offset
      type: Int
    - name: limit
      type: Int
    - name: count_total
      type: Boolean!
    type: query
    headers:
    - value: application/json
      name: Content-Type
  permissions:
  - role: anonymous

- name: action_unbonding_delegation_total
  definition:
    kind: synchronous
    handler: "{{ACTION_BASE_URL}}/unbonding_delegation_total"
    output_type: ActionBalance
    arguments:
    - name: address
      type: String!
    - name: height
      type: Int
    type: query
    headers:
    - value: application/json
      name: Content-Type
  permissions:
  - role: anonymous

##### Staking / Validator #####
- name: action_validator_commission_amount
  definition:
    kind: synchronous
    handler: "{{ACTION_BASE_URL}}/validator_commission_amount"
    output_type: "[ActionValidatorCommissionAmount]"
    arguments:
    - name: address
      type: String!
    type: query
    headers:
    - value: application/json
      name: Content-Type
  permissions:
  - role: anonymous

- name: action_validator_delegations
  definition:
    kind: synchronous
    handler: "{{ACTION_BASE_URL}}/validator_delegations"
    output_type: ActionDelegationResponse
    arguments:
    - name: address
      type: String!
    - name: offset
      type: Int
    - name: limit
      type: Int
    - name: count_total
      type: Boolean!
    type: query
    headers:
    - value: application/json
      name: Content-Type
  permissions:
  - role: anonymous

- name: action_validator_redelegations_from
  definition:
    kind: synchronous
    handler: "{{ACTION_BASE_URL}}/validator_redelegations_from"
    output_type: ActionRedelegationResponse
    arguments:
    - name: address
      type: String!
    - name: height
      type: Int
    - name: offset
      type: Int
    - name: limit
      type: Int
    - name: count_total
      type: Boolean!
    type: query
    headers:
    - value: application/json
      name: Content-Type
  permissions:
  - role: anonymous

- name: action_validator_unbonding_delegations
  definition:
    kind: synchronous
    handler: "{{ACTION_BASE_URL}}/validator_unbonding_delegations"
    output_type: ActionUnbondingDelegationResponse
    arguments:
    - name: address
      type: String!
    - name: offset
      type: Int
    - name: limit
      type: Int
    - name: count_total
      type: Boolean!
    type: query
    headers:
    - value: application/json
      name: Content-Type
  permissions:
  - role: anonymous

############### CUSTOM TYPES ###############
custom_types:
  scalars:
  - name: ActionCoin
  - name: ActionDelegation
  - name: ActionEntry
  - name: ActionPagination
  - name: ActionRedelegation
  - name: ActionUnbondingDelegation

  objects:
  - name: ActionGovModules
    fields:
    - name: gov_modules
      type: [ActionModuleVoteProposal]

  - name: ActionVotingResult
    fields:
      - name: count
        type: ActionVotingResultCount
      - name: weighted
        type: ActionVotingResultWeighted

  - name: ActionVotingResultCount
    fields:
      - name: yes
        type: Int!
      - name: no
        type: Int!
      - name: no_with_veto
        type: Int!
      - name: abstain
        type: Int!
      - name: total_count
        type: Int!

  - name: ActionVotingResultWeighted
    fields:
      - name: yes
        type: String!
      - name: no
        type: String!
      - name: no_with_veto
        type: String!
      - name: abstain
        type: String!

  - name: ActionTopAccounts
    fields:
      - name: accounts
        type: [ActionTopAccount]
      - name: total_count
        type: Int!

  - name: ActionTopAccount
    fields:
      - name: address
        type: String!
      - name: loki_balance
        type: Int!
      - name: mgeo_balance
        type: Int!
      - name: all_balances
        type: [ActionCoin]
      - name: delegated_amount
        type: Int!
      - name: tx_number
        type: Int!
      - name: total_amount
        type: Int!

  - name: ActionModuleVoteProposal
    fields:
    - name: vote_proposals
      type: [ActionVoteProposal]

  - name: ActionVoteProposal
    fields:
    - name: key
      type: String!
    - name: value_type
      type: String!

  - name: ActionModuleProposalsStatistics
    fields:
    - name: statuses
      type: [ActionProposalStatus]

  - name: ActionProposalStatus
    fields:
    - name: status
      type: String!
    - name: count
      type: Int!

  - name: ActionBalance
    fields:
    - name: coins
      type: [ActionCoin]

  - name: ActionDelegationReward
    fields:
    - name: coins
      type: [ActionCoin]
    - name: validator_address
      type: String!

  - name: ActionDelegationResponse
    fields:
    - name: delegations
      type: [ActionDelegation]
    - name: pagination
      type: ActionPagination

  - name: ActionAddress
    fields:
    - name: address
      type: String!

  - name: ActionRedelegationResponse
    fields:
    - name: redelegations
      type: [ActionRedelegation]
    - name: pagination
      type: ActionPagination

  - name: ActionUnbondingDelegationResponse
    fields:
    - name: unbonding_delegations
      type: [ActionUnbondingDelegation]
    - name: pagination
      type: ActionPagination

  - name: ActionValidatorCommissionAmount
    fields:
    - name: coins
      type: [ActionCoin]
